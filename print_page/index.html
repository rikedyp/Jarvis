
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../img/favicon-32.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.3">
    
    
      
        <title>Print - Jarvis</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/main.css">
    
    <script>__md_scope=new URL("/",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Jarvis" class="md-header__button md-logo" aria-label="Jarvis" data-md-component="logo">
      
  <img src="../img/dyalog-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jarvis
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dyalog/Jarvis/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Dyalog/Jarvis
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Jarvis" class="md-nav__button md-logo" aria-label="Jarvis" data-md-component="logo">
      
  <img src="../img/dyalog-white.svg" alt="logo">

    </a>
    Jarvis
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dyalog/Jarvis/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Dyalog/Jarvis
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../organizing.md" class="md-nav__link">
        Organizing Your Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../json.md" class="md-nav__link">
        JSON Paradigm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rest.md" class="md-nav__link">
        REST Paradigm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Settings" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-operational.md" class="md-nav__link">
        Operational Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-container.md" class="md-nav__link">
        Container Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-session.md" class="md-nav__link">
        Session Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-json.md" class="md-nav__link">
        JSON Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-rest.md" class="md-nav__link">
        REST Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        Reference Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Advanced Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security.md" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sessions.md" class="md-nav__link">
        Using Sessions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Print
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Print
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference Guide
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-advanced-topics" class="md-nav__link">
    Advanced Topics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-about" class="md-nav__link">
    About
  </a>
  
    <nav class="md-nav" aria-label="About">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-notes" class="md-nav__link">
    Release Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference Guide
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-advanced-topics" class="md-nav__link">
    Advanced Topics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-about" class="md-nav__link">
    About
  </a>
  
    <nav class="md-nav" aria-label="About">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-notes" class="md-nav__link">
    Release Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<div id="print-site-page" class="">
        <section id="print-site-cover-page">
            
<div>

    
        <h1>Jarvis</h1>
    

</div>


<table>

    

    

    
    <tr>
        <td>Repository</td>
        <td><a href="https://github.com/dyalog/Jarvis/">https://github.com/dyalog/Jarvis/</a></td>
    </tr>
    

    
    <tr>
        <td>Copyright</td>
        <td>Copyright &copy; 2019-2022 <strong><a href="https://dyalog.com">Dyalog, LTD</a></strong></td>
    </tr>
    

</table>





        </section>
        <section class="print-page" id="index"><p>This documentation is very much a work in progress. Expected completion is November 2022.</p>
<h1 id="index-introduction">Introduction</h1>
<p><strong><em>Jarvis</em></strong> is an HTTP server that makes it easy to create a web service to provide access to your APL code from the web or a local network.</p>
<p>Any client program written in any language on any platform that can process HTTP requests can access  a Jarvis-based web service. This vastly increases the potential audience for your application - the client can be a standard web browser, a phone app, a browser-based app, or a custom client written in a language like Python or C# and yes, even APL.</p>
<p>The name <strong><em>Jarvis</em></strong> is a pseudo-acronym for <strong>J</strong>SON <strong>a</strong>nd <strong>R</strong>EST Ser<strong>vice</strong> ("vice" becomes "vis") and was also inspired by J.A.R.V.I.S. (Just A Rather Very Intelligent System) from the <a href="https://en.wikipedia.org/wiki/J.A.R.V.I.S.">Marvel Cinematic Universe</a>. </p>
<h2 id="index-design-goals">Design Goals</h2>
<p><strong><em>Jarvis</em></strong> is designed to make it very easy for an APLer to create web services without requiring in-depth knowledge of web service frameworks. In designing <strong><em>Jarvis</em></strong> we've attempted to</p>
<ul>
<li>Make <strong><em>Jarvis</em></strong>' default behavior simple and applicable to many use cases</li>
<li>Make few assumptions about what the user actually needs to do</li>
<li>Provide hooks to allow the user to tailor or extend <strong><em>Jarvis</em></strong>' behavior if needed</li>
</ul>
<h2 id="index-create-an-apl-web-service-in-5-minutes">Create an APL Web Service in 5 Minutes</h2>
<p>If you know how to write a monadic, result-returning APL function, you're ready to run your first Jarvis-based web service.  Here's how:</p>
<ol>
<li>
<p>If you already have a copy of the <code>Jarvis</code> class, skip to step 3.  Otherwise, load the <code>HttpCommand</code> utility so that we can download a copy of <strong><em>Jarvis</em></strong> and also use <code>HttpCommand</code> for testing our web service.</p>
<pre><code>      ]load HttpCommand
</code></pre>
</li>
<li>
<p>Next, download a copy of Jarvis. Note, the following statement simply downloads the latest, perhaps pre-release, version of the Jarvis class for this quick demonstration. For a production environment, you should use a <a href="https://github.com/Dyalog/Jarvis/releases">released version of Jarvis</a>. <code>HttpCommand.Fix</code> both downloads and runs <code>⎕FIX</code> on an APL code file from the web.</p>
<pre><code>      HttpCommand.Fix 'https://raw.githubusercontent.com/Dyalog/Jarvis/master/Source/Jarvis.dyalog
</code></pre>
</li>
<li>
<p>Write one or more monadic, result-returning APL functions. For instance:</p>
<pre><code>      )cs #
      sum ← {+/⍵}                       ⍝ dfns work
      total ← +/                        ⍝ derived functions work
      ⎕FX '∇r←addemup a' 'r←+/a' '∇'    ⍝ and of course, tradfns work
</code></pre>
</li>
<li>
<p>You can now run your web service running on port 8080 and serving code from the # (root) namespace.  </p>
<pre><code>      (server rc)←Jarvis.Run 8080 #
2021/11/22 @ 15:12:06 - Conga copied from C:\Program Files\Dyalog\Dyalog APL-64 18.2 Unicode/ws/conga
2021/11/22 @ 15:12:06 - Local Conga reference is #.Jarvis.[LIB]
2021/11/22 @ 15:12:06 - Jarvis started in "JSON" mode on port 8080
2021/11/22 @ 15:12:06 - Serving code in #
2021/11/22 @ 15:12:06 - Click http://localhost:8080 to access web interface
</code></pre>
</li>
</ol>
<p>If the server started successfully, you'll see messages similar to those above and <code>server</code> will be a reference to the server instance and the return code <code>rc</code> should be <code>0</code>.</p>
<p>Now, let's test our service using Jarvis' built-in HTML interface. You could click on the link displayed or open your favorite browser to http://localhost:8080, but just for fun, we'll use Dyalog's HTMLRenderer object.</p>
<pre><code>       'h' ⎕WC 'HTMLRenderer' ('URL' 'localhost:8080')
</code></pre>
<p><img alt="Jarvis Sample" src="../img/sample.png" /></p>
<p>We select the Endpoint (APL function) we want from the drop down list, enter some valid JSON data (<code>[1,3,5]</code>), and press Send to send the request to Jarvis.  Jarvis' response is then sent back and displayed.</p>
<p>We can also use <code>HttpCommand</code> to call the web service.</p>
<pre><code>      (url data headers)←'localhost:8080/total' '[1,3,5]' ('content-type' 'application/json')
      (HttpCommand.Do 'POST' url data headers).Data
9
</code></pre>
<p>We can use the cURL command to call the web service.</p>
<pre><code>C:\&gt; curl -H "content-type: application/json" -X POST -d [1,3,5] http://localhost:8080/addemup
9
</code></pre>
<p>To stop the service, simply type <code>server.stop</code></p>
<p>Interested?  Read on...</p></section>
                        <h1 class='nav-section-title' id='section-usage'>
                            Usage <a class='headerlink' href='#section-usage' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="concepts"><h2 id="concepts-terminology">Terminology</h2>
<h3 id="concepts-endpoint">Endpoint</h3>
<p>In the context of <strong><em>Jarvis</em></strong>, an endpoint is the last segment of a URL up to the query string, if any.  When using <strong><em>Jarvis</em></strong>' JSON paradigm, the endpoint represents the name of the APL function used to service that endpoint.  When using <strong><em>Jarvis</em></strong>' REST paradigm, the endpoint identifies the resource to acted upon by the request.</p>
<h3 id="concepts-http-method">HTTP method</h3>
<p>The HTTP protocol defines several request "methods" that a client may use to request the server to perform different operations. When you open a web browser on a URL, the browser is typically using the <strong>GET</strong> HTTP method to retrieve the requested content. Other HTTP methods include POST, PUT, DELETE, PATCH, and HEAD; each one designed to indicate the operation the server should perform.</p>
<h3 id="concepts-json">JSON</h3>
<p>JSON stands for <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation and is a flexible notation for representing data arrays and objects. Dyalog APL has a system function, <code>⎕JSON</code>, which easily converts between JSON and APL arrays/namespaces.</p>
<h3 id="concepts-rest">REST</h3>
<p>REST stands for <strong>RE</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer and is a design pattern for APIs. An API that follows this design pattern is termed "RESTful". When a RESTful API is called, the server will transfer to the client a representation of the state of the requested resource.</p>
<h2 id="concepts-paradigms">Paradigms</h2>
<p><strong><em>Jarvis</em></strong> supports two operational paradigms that we term <strong>JSON</strong> and <strong>REST</strong>. A <strong><em>Jarvis</em></strong> server can run only one paradigm at a time. One of the first decisions you'll need to make when using <strong><em>Jarvis</em></strong> is which web service paradigm to use. The paradigm will determine protocol for how a client will interact with <strong><em>Jarvis</em></strong>. This section provides information to help you decide which paradigm is most appropriate for your application.</p>
<h3 id="concepts-the-json-paradigm">The JSON paradigm</h3>
<p>The JSON paradigm may seem quite natural to the APLer in that the endpoints (functions) take a data argument and return a data result. The argument and result can be as complex as you like, provided that they can be represented using JSON.</p>
<ul>
<li>The endpoints are the actual APL functions that are called.  You can specify which functions you want to expose as endpoints for your service to the client.</li>
<li>The client uses the HTTP POST method and passes the parameters for the request as JSON in the request body.</li>
<li>The payload (body) of the request is automatically converted by <strong><em>Jarvis</em></strong> from JSON to an APL array and passed as the right argument to your function.</li>
<li>Your function should return an APL array which <strong><em>Jarvis</em></strong> then converts to JSON and returns to the client in the response.</li>
<li>Your application needs to know nothing about JSON, HTTP or web services.</li>
</ul>
<h3 id="concepts-the-rest-paradigm">The REST paradigm</h3>
<p>One common feature of RESTful web services is that they tend to use standard HTTP methods to perform operations on resources.  A resource is specified by the URL of the request.  The resource could be a physical resource like a file or a virtual resource that is constructed dynamically by your code. There are several other <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">"RESTful  design"</a> principles or constraints, but they are beyond the scope of this document.</p>
<ul>
<li>Operations are typically implemented corresponding to standard HTTP methods:<ul>
<li>GET – read a resource</li>
<li>POST – create a resource</li>
<li>PUT – update/replace a resource</li>
<li>PATCH – update/modify a resource</li>
<li>DELETE – delete a resource</li>
</ul>
</li>
<li>With <strong><em>Jarvis</em></strong>, you specify which methods you want your service to support. (<strong><em>Jarvis</em></strong> even allows you to create your own method names as well.)</li>
<li>You then implement an APL function with the same name as each method.</li>
<li>Resources are specified in the request URL.  </li>
<li>Depending on how you design the service API, parameters, if any, can be passed in the URL,  the query string, the body of the request, or some combination thereof.</li>
<li>The function you write is passed the request object and it's up to you to parse the URL, payload, headers, and query parameters to determine what to do and what the arguments are.</li>
<li>You decide on the content type and format of the payload of the response.  Common response content types for RESTful web services are JSON, XML or HTML.</li>
<li>In general, the <strong>JSON</strong> paradigm is quicker and easier to implement, but a properly implemented <strong>REST</strong> paradigm </li>
</ul>
<h3 id="concepts-json-contrasted-with-rest">JSON contrasted with REST</h3>
<p>In many cases, the same functionality can be implemented using either paradigm.</p>
<p>With <strong>JSON</strong>, endpoints are the names of APL functions that you want to expose with your web service.  You write one APL function per operation you want to perform.</p>
<p>With <strong>REST</strong>, endpoints identify resources and the HTTP method determines the operation to perform on the resource. You write one APL function for each HTTP method your web service will support.</p>
<p>To compare the two paradigms, let's imagine you want to retrieve the total of invoice 45 for customer 231.</p>
<h4 id="concepts-json-example">JSON Example</h4>
<p>One way to implement this using the JSON paradigm might be to:</p>
<ul>
<li _customer_:231_invoice_:45="&quot;customer&quot;:231,&quot;invoice&quot;:45">specify that the client should provide the arguments as a JSON object with a "customer" element and an "invoicenum" element. For this example, it might look like </li>
<li>write an APL function called <code>GetInvoiceTotal</code> which would take a namespace as its argument.  The namespace will contain elements named "customer" and "invoice"</li>
</ul>
<pre><code>       ∇ namespace← GetInvoiceTotal namespace;costs
    [1]   ⍝ the namespace argument was created by Jarvis from the JSON object in the request
    [2]    costs←ns.customer GetInvoiceItems ns.invoice ⍝ retrieve the invoice item costs pseudo-code
    [3]    namespace.total←+/costs ⍝ insert a total element into the namespace  
       ∇
</code></pre>
<ul>
<li><strong><em>Jarvis</em></strong> will then convert the result, in this case the updated namespace, to JSON <code>{"customer":231,"invoicenum":45,"total":654.32}</code> and return it to the client</li>
</ul>
<h4 id="concepts-rest-example">REST Example</h4>
<p>Using the REST paradigm, you might specify a resource like <code>/customer/231/invoice/45/total</code>. Since this is a "read" operation, you would use the HTTP GET method to retrieve it.<br />
- You would write a function named <code>GET</code> (the same as the HTTP method) which would be passed the HTTP request object. The <code>Endpoint</code> element of the request object will be <code>'/customer/231/invoice/45/total'</code>. 
- Your function would need to parse the endpoint to determine what is being requested and then retrieve the information.
- Your function would set the content-type for the response payload as well as format the retrieved information and assign it to the payload.</p></section><h1 class='nav-section-title-end'>Ended: Usage</h1>
                        <h1 class='nav-section-title' id='section-reference'>
                            Reference <a class='headerlink' href='#section-reference' title='Permanent link'>↵</a>
                        </h1>
                        
                        <h2 class='nav-section-title' id='section-settings'>
                            Settings <a class='headerlink' href='#section-settings' title='Permanent link'>↵</a>
                        </h2>
                        <h1 class='nav-section-title-end'>Ended: Settings</h1><section class="print-page" id="reference"><p><code>HttpCommand</code></p></section><section class="print-page" id="configuration"><h1 id="configuration-configuration">Configuration</h1>
<h2 id="configuration-conga-dependence">Conga Dependence</h2>
<p>Jarvis relies on Conga, the Dyalog TCP/IP utility library, for its communications. Conga itself requires two components:</p>
<ul>
<li>the platform-dependent Conga shared library</li>
<li>Conga namespace which is platform independent and implements the interface from APL to the shared library</li>
</ul>
<h2 id="configuration-configuration-settings">Configuration Settings</h2>
<p>| Setting Name | Description | Example(s)  |
|<code>AcceptFrom</code>|Conga setting to restrict which IP addresses Jarvis will accept requests from||</p></section><h1 class='nav-section-title-end'>Ended: Reference</h1>
                        <h1 class='nav-section-title' id='section-advanced-topics'>
                            Advanced Topics <a class='headerlink' href='#section-advanced-topics' title='Permanent link'>↵</a>
                        </h1>
                        <h1 class='nav-section-title-end'>Ended: Advanced Topics</h1>
                        <h1 class='nav-section-title' id='section-about'>
                            About <a class='headerlink' href='#section-about' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="license"><p>MIT License</p>
<p>Copyright (c) 2021 Dyalog</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p></section><h1 class='nav-section-title-end'>Ended: About</h1></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2022 <strong><a href="https://dyalog.com">Dyalog, LTD</a></strong>
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "/", "features": ["navigation.sections", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.b88e97c5.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>